if("object"!=typeof app)var app={};app.genIco=function(e){var t=this,i=$(e.selector);t.spriteSvg||(t.spriteSvg=$(e.sprite)),i.each(function(){for(var e=$(this),i=t.spriteSvg.find("#"+e.data("svg")),a=i[0].attributes,r='<div class="data-svg">\n<svg xmlns="http://www.w3.org/2000/svg"',o=0;o<a.length;o++)r+=" "+("id"===a[o].name?'class="svg_'+a[o].value+'"':a[o].name+'="'+a[o].value+'"');for(r+=">\n",l=0;l<i[0].childNodes.length;l++){var n=i[0].childNodes[l];if("#text"!==n.nodeName){r+="<"+n.nodeName;for(var s=0;s<n.attributes.length;s++)r+=" "+n.attributes[s].name+'="'+n.attributes[s].value+'"';r+="></"+n.nodeName+">"}}r+="\n</svg>\n</div>","a"===e.data("position")?e.append(r):e.prepend(r)})},app.diagram=function(e,t){var i=this;(_s=i.diagDat)||(i.diagDat={},(_s=i.diagDat).box=$("."+e.box),_s.osY=_s.box.find("."+e.box+"--"+e.osY),_s.wrap=_s.box.find("."+e.box+"--"+e.wrap)),_s.width&&_s.width===_s.wrap.innerWidth()||(_s.width=_s.wrap.innerWidth(),_s.osY.height(_s.width),_s.box.height(_s.width)),i.deviceDB[i.device]>598?_s.box.css("margin-top","-"+_s.width+"px"):_s.box.css("margin-top",0)},app.cdnInit=function(){if(!app.cdn){var e=$("#cdnUrl").attr("src");e&&(app.cdn=e.replace("js/common.js",""))}},app.slider=function(e){var t,i=this;function a(e){if(!(t=i.sliderDat[e.name])){i.sliderDat[e.name]={},(t=i.sliderDat[e.name]).wrap=$(e.wrap),t.dom=t.wrap.html(),t.slider=t.wrap.find(e.box),t.option=e.option?e.option:{xs:{}},t.option.xs||(t.option.xs={});var a=[];for(var r in i.deviceDB)if(i.deviceDB.hasOwnProperty(r)){if(t.option[r]){for(var o=0;o<a.length;o++)t.option[a[o]]=t.option[r];a=[]}else a.push(r)}t.def=void 0}t.def!==t.option[i.device]&&(t.def=t.option[i.device],"function"==typeof t.slider.destroySlider&&(t.slider.destroySlider(),t.wrap.html(t.dom),t.slider=t.wrap.find(e.box)),"none"!==t.def&&t.slider.bxSlider(t.def))}if(i.sliderDat||(i.sliderDat={}),e.name&&"string"==typeof e.name)a(e);else for(var r in e)e.hasOwnProperty(r)&&a(e[r])},app.progress=function(e,t){(e="function"!=typeof e.attr?$(e):e).each(function(){var e=$(this);if(e.data("val")){var i,a,r=e.find("span"),o=e.data("val"),n=e.find("svg:not([class])").width(),s=e.find(".circle");s.data("dasharray")||s.attr("data-dasharray",s.attr("stroke-dasharray")),a=(i=n*s.data("dasharray")/164)-i*o/100,t?a!==+s.attr("stroke-dashoffset")&&s.attr({"stroke-dasharray":i,"stroke-dashoffset":a}):(s.attr({"stroke-dasharray":i,"stroke-dashoffset":i}),e.animate({outline:"0px"},{duration:1e3,easing:"linear",progress:function(e,t){r.text(Math.round(o*t)),s.attr("stroke-dashoffset",i-i*o/100*t)}}))}})},app.scrollTo=function(e,t){var i=this,a=0;0!==e&&(e="function"==typeof e.attr?e:$(e)).length&&(a=e.offset().top+(isNaN(t)?0:+t)),i.html||(i.html=$("html, body")),i.html.animate({scrollTop:a},1e3)},app.init=function(){var e=this,t={ico:{selector:"[data-svg]",sprite:"#sprite"},diagram:{box:"changes__diagram",osY:"osY",wrap:"wrap",param:"param",age:"age",indent:"indent",interval:[30,60],step:5},slider:{time:{name:"time",box:".time__slider",wrap:".time__slider--wrap",preventDefaultSwipeY:!0,option:{xs:{infiniteLoop:!1,hideControlOnEnd:!0}}},reviews:{name:"reviews",box:".reviews__slider",wrap:".reviews__slider--wrap",preventDefaultSwipeY:!0,option:{sm1:{slideWidth:600,minSlides:2,maxSlides:4,moveSlides:1},md:"none"}}},progress:"[data-val]",butToForm:".button:not(.form__button)"};function i(){for(var t in e.deviceDB)if(e.deviceDB.hasOwnProperty(t)&&e.deviceDB[t]<window.innerWidth)return t}e.deviceDB={xl:1199,lg:991,md1:849,md:767,sm1:599,sm:424,xs:0},e.device=i(),e.progressBox=$(t.progress),e.cdnInit(),e.genIco(t.ico),e.diagram(t.diagram,1),$(t.butToForm).on("touchend click",function(t){t.preventDefault(),e.scrollTo(".form__wrap",-20)}),$(window).on("load",function(){e.slider(t.slider)}).on("resize",function(){e.device!==i()&&(e.device=i(),e.slider(t.slider),e.progress(e.progressBox,1)),e.diagram(t.diagram)}).on("scroll",function(){e.progressBox.each(function(){var t=$(this);window.innerHeight/2-this.getBoundingClientRect().top>0&&!t.hasClass("init")&&(e.progress(t),t.addClass("init"))})})},$(function(){app.init()});